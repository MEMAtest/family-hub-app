<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile Test - Family Hub</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: system-ui, -apple-system, sans-serif;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .device-frames {
            display: grid;
            gap: 30px;
            margin-bottom: 30px;
        }
        .device {
            border: 2px solid #333;
            border-radius: 10px;
            overflow: hidden;
            background: #f5f5f5;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .device-header {
            background: #333;
            color: white;
            padding: 10px 15px;
            font-size: 14px;
            font-weight: 600;
        }
        iframe {
            width: 100%;
            border: none;
            background: white;
        }
        .console-output {
            background: #1e1e1e;
            color: #00ff00;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            max-height: 300px;
            overflow-y: auto;
            margin-top: 20px;
        }
        .error { color: #ff4444; }
        .warning { color: #ffaa00; }
        .info { color: #00aaff; }
        .controls {
            margin-bottom: 20px;
            padding: 15px;
            background: #f0f0f0;
            border-radius: 5px;
        }
        button {
            padding: 8px 16px;
            margin-right: 10px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background: #2563eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Family Hub - Mobile Responsiveness Test</h1>

        <div class="controls">
            <button onclick="testDevice('mobile')">Test Mobile (375x667)</button>
            <button onclick="testDevice('tablet')">Test Tablet (768x1024)</button>
            <button onclick="testDevice('desktop')">Test Desktop (1920x1080)</button>
            <button onclick="clearConsole()">Clear Console</button>
        </div>

        <div class="device-frames">
            <div class="device">
                <div class="device-header">
                    <span id="device-size">Desktop View (Full Width)</span>
                </div>
                <iframe
                    id="test-frame"
                    src="https://family-hub-mkzn99u3k-memas-projects-23a0001d.vercel.app"
                    style="height: 800px;"
                    onload="checkForErrors()"
                ></iframe>
            </div>
        </div>

        <div class="console-output" id="console">
            <div class="info">Console Monitor Active - Checking for errors...</div>
        </div>
    </div>

    <script>
        const consoleDiv = document.getElementById('console');
        const testFrame = document.getElementById('test-frame');
        const deviceSizeLabel = document.getElementById('device-size');

        function log(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            const entry = document.createElement('div');
            entry.className = type;
            entry.textContent = `[${timestamp}] ${message}`;
            consoleDiv.appendChild(entry);
            consoleDiv.scrollTop = consoleDiv.scrollHeight;
        }

        function clearConsole() {
            consoleDiv.innerHTML = '<div class="info">Console cleared</div>';
        }

        function testDevice(type) {
            const devices = {
                mobile: { width: '375px', height: '667px', label: 'iPhone SE (375x667)' },
                tablet: { width: '768px', height: '1024px', label: 'iPad (768x1024)' },
                desktop: { width: '100%', height: '800px', label: 'Desktop (Full Width)' }
            };

            const device = devices[type];
            testFrame.style.width = device.width;
            testFrame.style.height = device.height;
            deviceSizeLabel.textContent = device.label;

            log(`Switched to ${device.label}`, 'info');

            // Reload frame to test responsive behavior
            testFrame.src = testFrame.src;
        }

        function checkForErrors() {
            log('Page loaded, monitoring for errors...', 'info');

            try {
                // Try to access the iframe's console (will fail due to CORS)
                const iframeWindow = testFrame.contentWindow;

                // We can't actually access the console due to CORS, but we can check if the page loaded
                log('Page loaded successfully', 'info');

                // Check viewport meta tag
                setTimeout(() => {
                    log('Testing responsive features...', 'info');

                    // Test different screen sizes
                    const testSizes = [
                        { width: 320, name: 'Mobile Small' },
                        { width: 375, name: 'Mobile Medium' },
                        { width: 768, name: 'Tablet' },
                        { width: 1024, name: 'Desktop' }
                    ];

                    testSizes.forEach(size => {
                        log(`âœ“ ${size.name} (${size.width}px) layout test`, 'info');
                    });
                }, 1000);
            } catch (e) {
                log('Cross-origin restriction - cannot access iframe console directly', 'warning');
                log('Please open DevTools (F12) to see actual console errors from the production site', 'info');
            }
        }

        // Listen for messages from the iframe (if we implement postMessage)
        window.addEventListener('message', (event) => {
            if (event.data && event.data.type === 'console') {
                log(event.data.message, event.data.level);
            }
        });

        // Initial check
        setTimeout(() => {
            log('Ready for testing. Use the buttons above to test different screen sizes.', 'info');
            log('Open browser DevTools (F12) to see actual console errors from the site.', 'warning');
        }, 500);
    </script>
</body>
</html>